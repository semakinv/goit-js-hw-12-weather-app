(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("L1EO");var i=document.querySelector("#spinner"),o=function(){i.classList.remove("is-hidden")},c=function(){i.classList.add("is-hidden")},r=(n("D/wG"),n("SUr3"),n("dIfx"));function u(e){var t={locationRef:document.querySelector('span[data-field="location"]'),tempRef:document.querySelector('span[data-field="temp"]'),humidityRef:document.querySelector('span[data-field="humidity"]'),windRef:document.querySelector('span[data-field="wind"]'),conditionsRef:document.querySelector('span[data-field="conditions"]'),iconRef:document.querySelector(".icon"),weatherDisplayRef:document.getElementById("weather")};1!==Object.keys(e).length?(t.locationRef.textContent=""+e.location.name,t.tempRef.textContent=""+e.current.temp_c,t.humidityRef.textContent=e.current.humidity+"%",t.windRef.textContent=e.current.wind_kph+" kph",t.conditionsRef.textContent=""+e.current.condition.text,t.iconRef.setAttribute("alt",""+e.current.condition.text),t.iconRef.setAttribute("src",""+e.current.condition.icon),t.weatherDisplayRef.classList.remove("is-hidden")):r.a.notice({text:"Позиция с таким названием не найдена. Введите верное название города"})}var d;n("JBxO"),n("FdtR");function a(e){if("undefined,undefined"!==e)return fetch("https://api.apixu.com/v1/current.json?key=b47a5685a79b48b38c180939192207&q="+e).then(function(e){return e.json()}).then(function(e){return Promise.resolve(e)})}document.getElementById("search-form").addEventListener("submit",function(e){e.preventDefault();var t=document.getElementsByTagName("input")[0].value;""!==t?a(""+t).then(function(e){u(e),document.forms["search-form"].reset()}):r.a.notice({text:"Пожалуйста введите название города!"})}),(d={enableHighAccuracy:!0,timeout:5e3,maximumAge:18e5},new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t,d)})).then(function(e){o(),a(e.coords.latitude+","+e.coords.longitude).then(function(e){u(e),c()})}).catch(function(e){r.a.notice({text:"Нет доступа к геопозиции, используйте поиск по имени города."}),c()})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.6eaf5cab81c64b423936.js.map